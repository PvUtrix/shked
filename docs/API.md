# üîå API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –®–ö–ï–î

## –û–±–∑–æ—Ä

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã SmartSchedule (–®–ö–ï–î) –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º –∑–∞–Ω—è—Ç–∏–π.

## –ë–∞–∑–æ–≤—ã–π URL

```
Development: http://localhost:3000/api
Production: https://your-domain.com/api
```

## –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

–í—Å–µ API endpoints —Ç—Ä–µ–±—É—é—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ NextAuth.js —Å–µ—Å—Å–∏–∏.

### –ó–∞–≥–æ–ª–æ–≤–∫–∏

–ó–∞–ø—Ä–æ—Å—ã –¥–æ–ª–∂–Ω—ã –≤–∫–ª—é—á–∞—Ç—å cookie —Å —Å–µ—Å—Å–∏–µ–π:

```
Cookie: next-auth.session-token=<token>
```

### –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

- `admin` - –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
- `student` - –°—Ç—É–¥–µ–Ω—Ç
- `lector` - –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å
- `mentor` - –ú–µ–Ω—Ç–æ—Ä/–ù–∞—É—á–Ω—ã–π —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å
- `assistant` - –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç
- `co_lecturer` - –°–æ-–ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å
- `education_office_head` - –ù–∞—á–∞–ª—å–Ω–∏–∫ —É—á–µ–±–Ω–æ–≥–æ –æ—Ç–¥–µ–ª–∞
- `department_admin` - –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –∫–∞—Ñ–µ–¥—Ä—ã

## Endpoints

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏

#### GET /api/users
–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–ü—Ä–∞–≤–∞:** admin

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
- `role` - –§–∏–ª—å—Ç—Ä –ø–æ —Ä–æ–ª–∏
- `groupId` - –§–∏–ª—å—Ç—Ä –ø–æ –≥—Ä—É–ø–ø–µ
- `search` - –ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏/email

#### POST /api/users
–°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–ü—Ä–∞–≤–∞:** admin

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "name": "–ò–º—è –§–∞–º–∏–ª–∏—è",
  "email": "user@example.com",
  "password": "password123",
  "role": "student",
  "status": "ACTIVE"
}
```

### –ì—Ä—É–ø–ø—ã

#### GET /api/groups
–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≥—Ä—É–ø–ø

**–ü—Ä–∞–≤–∞:** –≤—Å–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ

#### POST /api/groups
–°–æ–∑–¥–∞—Ç—å –≥—Ä—É–ø–ø—É

**–ü—Ä–∞–≤–∞:** admin

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "name": "–ë05-123",
  "year": 2025
}
```

#### GET /api/groups/{id}
–ü–æ–ª—É—á–∏—Ç—å –¥–µ—Ç–∞–ª–∏ –≥—Ä—É–ø–ø—ã

**–ü—Ä–∞–≤–∞:** –≤—Å–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ

#### PATCH /api/groups/{id}
–û–±–Ω–æ–≤–∏—Ç—å –≥—Ä—É–ø–ø—É

**–ü—Ä–∞–≤–∞:** admin

#### DELETE /api/groups/{id}
–£–¥–∞–ª–∏—Ç—å –≥—Ä—É–ø–ø—É

**–ü—Ä–∞–≤–∞:** admin

### –ü—Ä–µ–¥–º–µ—Ç—ã

#### GET /api/subjects
–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø—Ä–µ–¥–º–µ—Ç–æ–≤

**–ü—Ä–∞–≤–∞:** –≤—Å–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ

#### POST /api/subjects
–°–æ–∑–¥–∞—Ç—å –ø—Ä–µ–¥–º–µ—Ç

**–ü—Ä–∞–≤–∞:** admin

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "name": "–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑",
  "description": "–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞"
}
```

#### GET /api/subjects/{id}
–ü–æ–ª—É—á–∏—Ç—å –¥–µ—Ç–∞–ª–∏ –ø—Ä–µ–¥–º–µ—Ç–∞

**–ü—Ä–∞–≤–∞:** –≤—Å–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ

#### PATCH /api/subjects/{id}
–û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–µ–¥–º–µ—Ç

**–ü—Ä–∞–≤–∞:** admin, lector

#### DELETE /api/subjects/{id}
–£–¥–∞–ª–∏—Ç—å –ø—Ä–µ–¥–º–µ—Ç

**–ü—Ä–∞–≤–∞:** admin

### –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ

#### GET /api/schedules
–ü–æ–ª—É—á–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ

**–ü—Ä–∞–≤–∞:** –≤—Å–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
- `groupId` - –§–∏–ª—å—Ç—Ä –ø–æ –≥—Ä—É–ø–ø–µ
- `subjectId` - –§–∏–ª—å—Ç—Ä –ø–æ –ø—Ä–µ–¥–º–µ—Ç—É
- `subgroupId` - –§–∏–ª—å—Ç—Ä –ø–æ –ø–æ–¥–≥—Ä—É–ø–ø–µ
- `startDate` - –ù–∞—á–∞–ª–æ –ø–µ—Ä–∏–æ–¥–∞ (ISO 8601)
- `endDate` - –ö–æ–Ω–µ—Ü –ø–µ—Ä–∏–æ–¥–∞ (ISO 8601)

#### POST /api/schedules
–°–æ–∑–¥–∞—Ç—å –∑–∞–Ω—è—Ç–∏–µ

**–ü—Ä–∞–≤–∞:** admin

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "subjectId": "subject_id",
  "groupId": "group_id",
  "subgroupId": "subgroup_id",
  "date": "2025-11-05",
  "startTime": "10:00",
  "endTime": "11:30",
  "location": "–ê—É–¥–∏—Ç–æ—Ä–∏—è 305",
  "type": "LECTURE"
}
```

#### GET /api/schedules/{id}
–ü–æ–ª—É—á–∏—Ç—å –¥–µ—Ç–∞–ª–∏ –∑–∞–Ω—è—Ç–∏—è

**–ü—Ä–∞–≤–∞:** –≤—Å–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ

#### PATCH /api/schedules/{id}
–û–±–Ω–æ–≤–∏—Ç—å –∑–∞–Ω—è—Ç–∏–µ

**–ü—Ä–∞–≤–∞:** admin

#### DELETE /api/schedules/{id}
–£–¥–∞–ª–∏—Ç—å –∑–∞–Ω—è—Ç–∏–µ

**–ü—Ä–∞–≤–∞:** admin

### –ü–æ–¥–≥—Ä—É–ø–ø—ã

–°–º. [SUBGROUPS_SYSTEM.md](./features/SUBGROUPS_SYSTEM.md)

#### GET /api/groups/{groupId}/subgroups
–ü–æ–ª—É—á–∏—Ç—å –ø–æ–¥–≥—Ä—É–ø–ø—ã –≥—Ä—É–ø–ø—ã

**–ü—Ä–∞–≤–∞:** –≤—Å–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
- `subjectId` - –§–∏–ª—å—Ç—Ä –ø–æ –ø—Ä–µ–¥–º–µ—Ç—É

#### POST /api/groups/{groupId}/subgroups
–°–æ–∑–¥–∞—Ç—å –ø–æ–¥–≥—Ä—É–ø–ø—É

**–ü—Ä–∞–≤–∞:** admin

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "subjectId": "subject_id",
  "name": "–ü–æ–¥–≥—Ä—É–ø–ø–∞ 1",
  "number": 1,
  "description": "–û–ø–∏—Å–∞–Ω–∏–µ"
}
```

#### GET /api/groups/{groupId}/subgroups/{subgroupId}
–ü–æ–ª—É—á–∏—Ç—å –¥–µ—Ç–∞–ª–∏ –ø–æ–¥–≥—Ä—É–ø–ø—ã

**–ü—Ä–∞–≤–∞:** –≤—Å–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ

#### PATCH /api/groups/{groupId}/subgroups/{subgroupId}
–û–±–Ω–æ–≤–∏—Ç—å –ø–æ–¥–≥—Ä—É–ø–ø—É

**–ü—Ä–∞–≤–∞:** admin

#### DELETE /api/groups/{groupId}/subgroups/{subgroupId}
–£–¥–∞–ª–∏—Ç—å –ø–æ–¥–≥—Ä—É–ø–ø—É

**–ü—Ä–∞–≤–∞:** admin

#### POST /api/groups/{groupId}/subgroups/{subgroupId}/students
–î–æ–±–∞–≤–∏—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –≤ –ø–æ–¥–≥—Ä—É–ø–ø—É

**–ü—Ä–∞–≤–∞:** admin

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "studentIds": ["user_id_1", "user_id_2"]
}
```

#### DELETE /api/groups/{groupId}/subgroups/{subgroupId}/students
–£–¥–∞–ª–∏—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–∞ –∏–∑ –ø–æ–¥–≥—Ä—É–ø–ø—ã

**–ü—Ä–∞–≤–∞:** admin

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
- `userId` - ID —Å—Ç—É–¥–µ–Ω—Ç–∞

### –ü–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å

–°–º. [ATTENDANCE_TRACKING.md](./features/ATTENDANCE_TRACKING.md)

#### POST /api/schedules/{scheduleId}/attendance
–û—Ç–º–µ—Ç–∏—Ç—å –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å

**–ü—Ä–∞–≤–∞:** admin, lector, assistant

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "attendanceList": [
    {
      "userId": "user_id",
      "status": "PRESENT",
      "source": "MANUAL",
      "notes": "–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ"
    }
  ]
}
```

#### GET /api/schedules/{scheduleId}/attendance
–ü–æ–ª—É—á–∏—Ç—å –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å –∑–∞–Ω—è—Ç–∏—è

**–ü—Ä–∞–≤–∞:** admin, lector, student (—Å–≤–æ—è)

#### GET /api/attendance/report
–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á–µ—Ç –ø–æ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏

**–ü—Ä–∞–≤–∞:** admin, lector, education_office_head, department_admin

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
- `groupId` - –§–∏–ª—å—Ç—Ä –ø–æ –≥—Ä—É–ø–ø–µ
- `subjectId` - –§–∏–ª—å—Ç—Ä –ø–æ –ø—Ä–µ–¥–º–µ—Ç—É
- `userId` - –§–∏–ª—å—Ç—Ä –ø–æ —Å—Ç—É–¥–µ–Ω—Ç—É
- `startDate` - –ù–∞—á–∞–ª–æ –ø–µ—Ä–∏–æ–¥–∞ (ISO 8601)
- `endDate` - –ö–æ–Ω–µ—Ü –ø–µ—Ä–∏–æ–¥–∞ (ISO 8601)

### –≠–∫–∑–∞–º–µ–Ω—ã

–°–º. [EXAM_MANAGEMENT.md](./features/EXAM_MANAGEMENT.md)

#### GET /api/exams
–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —ç–∫–∑–∞–º–µ–Ω–æ–≤

**–ü—Ä–∞–≤–∞:** –≤—Å–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
- `groupId` - –§–∏–ª—å—Ç—Ä –ø–æ –≥—Ä—É–ø–ø–µ
- `subjectId` - –§–∏–ª—å—Ç—Ä –ø–æ –ø—Ä–µ–¥–º–µ—Ç—É

#### POST /api/exams
–°–æ–∑–¥–∞—Ç—å —ç–∫–∑–∞–º–µ–Ω

**–ü—Ä–∞–≤–∞:** admin, lector

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "subjectId": "subject_id",
  "groupId": "group_id",
  "type": "EXAM",
  "format": "ORAL",
  "date": "2025-12-20T10:00:00Z",
  "location": "–ê—É–¥–∏—Ç–æ—Ä–∏—è 401"
}
```

#### GET /api/exams/{id}
–ü–æ–ª—É—á–∏—Ç—å –¥–µ—Ç–∞–ª–∏ —ç–∫–∑–∞–º–µ–Ω–∞

**–ü—Ä–∞–≤–∞:** –≤—Å–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ

#### PATCH /api/exams/{id}
–û–±–Ω–æ–≤–∏—Ç—å —ç–∫–∑–∞–º–µ–Ω

**–ü—Ä–∞–≤–∞:** admin, lector

#### DELETE /api/exams/{id}
–£–¥–∞–ª–∏—Ç—å —ç–∫–∑–∞–º–µ–Ω

**–ü—Ä–∞–≤–∞:** admin

#### POST /api/exams/{examId}/results
–í–Ω–µ—Å—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —ç–∫–∑–∞–º–µ–Ω–∞

**–ü—Ä–∞–≤–∞:** admin, lector

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "userId": "user_id",
  "grade": "5",
  "status": "PASSED",
  "notes": "–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ"
}
```

#### GET /api/exams/{examId}/results
–ü–æ–ª—É—á–∏—Ç—å –≤–µ–¥–æ–º–æ—Å—Ç—å —ç–∫–∑–∞–º–µ–Ω–∞

**–ü—Ä–∞–≤–∞:** admin, lector, student (—Å–≤–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç)

### –ú–µ–Ω—Ç–æ—Ä—Å–∫–∏–µ –≤—Å—Ç—Ä–µ—á–∏

–°–º. [MENTOR_MEETINGS.md](./features/MENTOR_MEETINGS.md)

#### GET /api/mentor-meetings
–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å—Ç—Ä–µ—á

**–ü—Ä–∞–≤–∞:** admin, mentor (—Å–≤–æ–∏), student (—Å–≤–æ–∏)

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
- `mentorId` - –§–∏–ª—å—Ç—Ä –ø–æ –º–µ–Ω—Ç–æ—Ä—É
- `studentId` - –§–∏–ª—å—Ç—Ä –ø–æ —Å—Ç—É–¥–µ–Ω—Ç—É
- `status` - –§–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É

#### POST /api/mentor-meetings
–°–æ–∑–¥–∞—Ç—å –≤—Å—Ç—Ä–µ—á—É

**–ü—Ä–∞–≤–∞:** admin, mentor, student

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "mentorId": "mentor_id",
  "studentId": "student_id",
  "scheduledAt": "2025-11-15T14:00:00Z",
  "duration": 60,
  "agenda": "–û–±—Å—É–∂–¥–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞",
  "location": "–û—Ñ–∏—Å / Zoom",
  "meetingType": "VKR"
}
```

#### GET /api/mentor-meetings/{id}
–ü–æ–ª—É—á–∏—Ç—å –¥–µ—Ç–∞–ª–∏ –≤—Å—Ç—Ä–µ—á–∏

**–ü—Ä–∞–≤–∞:** admin, mentor, student (—É—á–∞—Å—Ç–Ω–∏–∫–∏)

#### PATCH /api/mentor-meetings/{id}
–û–±–Ω–æ–≤–∏—Ç—å –≤—Å—Ç—Ä–µ—á—É

**–ü—Ä–∞–≤–∞:** admin, mentor (—Å–≤–æ–∏)

#### DELETE /api/mentor-meetings/{id}
–û—Ç–º–µ–Ω–∏—Ç—å –≤—Å—Ç—Ä–µ—á—É

**–ü—Ä–∞–≤–∞:** admin, mentor, student (—É—á–∞—Å—Ç–Ω–∏–∫–∏)

### –§–æ—Ä—É–º

–°–º. [FORUM_SYSTEM.md](./features/FORUM_SYSTEM.md)

#### GET /api/forum/topics
–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ç–µ–º

**–ü—Ä–∞–≤–∞:** –≤—Å–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
- `groupId` - –§–∏–ª—å—Ç—Ä –ø–æ –≥—Ä—É–ø–ø–µ
- `subjectId` - –§–∏–ª—å—Ç—Ä –ø–æ –ø—Ä–µ–¥–º–µ—Ç—É
- `topicType` - –§–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É

#### POST /api/forum/topics
–°–æ–∑–¥–∞—Ç—å —Ç–µ–º—É

**–ü—Ä–∞–≤–∞:** –≤—Å–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "title": "–ó–∞–≥–æ–ª–æ–≤–æ–∫ —Ç–µ–º—ã",
  "content": "–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ (MDX)",
  "topicType": "QUESTION",
  "visibility": "SUBJECT",
  "groupId": "group_id",
  "subjectId": "subject_id"
}
```

#### GET /api/forum/topics/{id}
–ü–æ–ª—É—á–∏—Ç—å –¥–µ—Ç–∞–ª–∏ —Ç–µ–º—ã

**–ü—Ä–∞–≤–∞:** –≤—Å–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ (—Å —É—á–µ—Ç–æ–º visibility)

#### PATCH /api/forum/topics/{id}
–û–±–Ω–æ–≤–∏—Ç—å —Ç–µ–º—É

**–ü—Ä–∞–≤–∞:** admin, –∞–≤—Ç–æ—Ä, lector (–º–æ–¥–µ—Ä–∞—Ü–∏—è)

#### DELETE /api/forum/topics/{id}
–£–¥–∞–ª–∏—Ç—å —Ç–µ–º—É

**–ü—Ä–∞–≤–∞:** admin, –∞–≤—Ç–æ—Ä

#### GET /api/forum/topics/{topicId}/posts
–ü–æ–ª—É—á–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è —Ç–µ–º—ã

**–ü—Ä–∞–≤–∞:** –≤—Å–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ (—Å —É—á–µ—Ç–æ–º visibility)

#### POST /api/forum/topics/{topicId}/posts
–°–æ–∑–¥–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ

**–ü—Ä–∞–≤–∞:** –≤—Å–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ (–µ—Å–ª–∏ —Ç–µ–º–∞ –Ω–µ –∑–∞–∫—Ä—ã—Ç–∞)

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "content": "–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è (MDX)",
  "parentPostId": "parent_post_id"
}
```

#### GET /api/forum/posts/{id}
–ü–æ–ª—É—á–∏—Ç—å –¥–µ—Ç–∞–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏—è

**–ü—Ä–∞–≤–∞:** –≤—Å–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ

#### PATCH /api/forum/posts/{id}
–û–±–Ω–æ–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ

**–ü—Ä–∞–≤–∞:** admin, –∞–≤—Ç–æ—Ä

#### DELETE /api/forum/posts/{id}
–£–¥–∞–ª–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ

**–ü—Ä–∞–≤–∞:** admin, –∞–≤—Ç–æ—Ä

### –î–æ–∫—É–º–µ–Ω—Ç—ã –∏ —Ä–µ—Å—É—Ä—Å—ã

–°–º. [DOCUMENTS_RESOURCES.md](./features/DOCUMENTS_RESOURCES.md)

#### GET /api/subjects/{subjectId}/documents
–ü–æ–ª—É—á–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã –ø—Ä–µ–¥–º–µ—Ç–∞

**–ü—Ä–∞–≤–∞:** –≤—Å–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
- `type` - –§–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É –¥–æ–∫—É–º–µ–Ω—Ç–∞

#### POST /api/subjects/{subjectId}/documents
–ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç

**–ü—Ä–∞–≤–∞:** admin, lector

**Content-Type:** `multipart/form-data`

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ–æ—Ä–º—ã:**
- `file` - –§–∞–π–ª
- `type` - –¢–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç–∞ (RPD, ANNOTATION, etc.)
- `description` - –û–ø–∏—Å–∞–Ω–∏–µ

#### GET /api/subjects/{subjectId}/documents/{docId}
–ü–æ–ª—É—á–∏—Ç—å –¥–µ—Ç–∞–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞

**–ü—Ä–∞–≤–∞:** –≤—Å–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ

#### PATCH /api/subjects/{subjectId}/documents/{docId}
–û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç

**–ü—Ä–∞–≤–∞:** admin, lector (–∑–∞–≥—Ä—É–∑–∏–≤—à–∏–π)

#### DELETE /api/subjects/{subjectId}/documents/{docId}
–£–¥–∞–ª–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç

**–ü—Ä–∞–≤–∞:** admin, lector (–∑–∞–≥—Ä—É–∑–∏–≤—à–∏–π)

#### GET /api/subjects/{subjectId}/resources
–ü–æ–ª—É—á–∏—Ç—å –≤–Ω–µ—à–Ω–∏–µ —Ä–µ—Å—É—Ä—Å—ã –ø—Ä–µ–¥–º–µ—Ç–∞

**–ü—Ä–∞–≤–∞:** –≤—Å–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
- `type` - –§–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É —Ä–µ—Å—É—Ä—Å–∞

#### POST /api/subjects/{subjectId}/resources
–î–æ–±–∞–≤–∏—Ç—å –≤–Ω–µ—à–Ω–∏–π —Ä–µ—Å—É—Ä—Å

**–ü—Ä–∞–≤–∞:** admin, lector

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "type": "ZOOM",
  "title": "Zoom –≤—Å—Ç—Ä–µ—á–∞",
  "url": "https://zoom.us/j/123456789",
  "description": "–û–ø–∏—Å–∞–Ω–∏–µ"
}
```

#### GET /api/schedules/{scheduleId}/resources
–ü–æ–ª—É—á–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã –∑–∞–Ω—è—Ç–∏—è

**–ü—Ä–∞–≤–∞:** –≤—Å–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ

#### POST /api/schedules/{scheduleId}/resources
–î–æ–±–∞–≤–∏—Ç—å —Ä–µ—Å—É—Ä—Å –∫ –∑–∞–Ω—è—Ç–∏—é

**–ü—Ä–∞–≤–∞:** admin, lector

#### GET /api/resources/{id}
–ü–æ–ª—É—á–∏—Ç—å –¥–µ—Ç–∞–ª–∏ —Ä–µ—Å—É—Ä—Å–∞

**–ü—Ä–∞–≤–∞:** –≤—Å–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ

#### PATCH /api/resources/{id}
–û–±–Ω–æ–≤–∏—Ç—å —Ä–µ—Å—É—Ä—Å

**–ü—Ä–∞–≤–∞:** admin, lector (—Å–æ–∑–¥–∞—Ç–µ–ª—å)

#### DELETE /api/resources/{id}
–£–¥–∞–ª–∏—Ç—å —Ä–µ—Å—É—Ä—Å

**–ü—Ä–∞–≤–∞:** admin, lector (—Å–æ–∑–¥–∞—Ç–µ–ª—å)

### –£—á–µ–±–Ω—ã–π –æ—Ñ–∏—Å

#### GET /api/education-office/reports
–ü–æ–ª—É—á–∏—Ç—å –æ—Ç—á–µ—Ç—ã —É—á–µ–±–Ω–æ–≥–æ –æ—Ñ–∏—Å–∞

**–ü—Ä–∞–≤–∞:** education_office_head

#### GET /api/education-office/schedule
–ü–æ–ª—É—á–∏—Ç—å –æ–±—â–µ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ

**–ü—Ä–∞–≤–∞:** education_office_head

### –ö–∞—Ñ–µ–¥—Ä–∞

#### GET /api/department/reports
–ü–æ–ª—É—á–∏—Ç—å –æ—Ç—á–µ—Ç—ã –∫–∞—Ñ–µ–¥—Ä—ã

**–ü—Ä–∞–≤–∞:** department_admin

#### GET /api/department/faculty
–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π –∫–∞—Ñ–µ–¥—Ä—ã

**–ü—Ä–∞–≤–∞:** department_admin

#### GET /api/department/subjects
–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –∫–∞—Ñ–µ–¥—Ä—ã

**–ü—Ä–∞–≤–∞:** department_admin

## –ö–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤

- `200 OK` - –£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—Ä–æ—Å
- `201 Created` - –†–µ—Å—É—Ä—Å —Å–æ–∑–¥–∞–Ω
- `400 Bad Request` - –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- `401 Unauthorized` - –ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
- `403 Forbidden` - –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞
- `404 Not Found` - –†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω
- `500 Internal Server Error` - –û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

## –§–æ—Ä–º–∞—Ç –æ—à–∏–±–æ–∫

```json
{
  "error": "–û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏"
}
```

## –ü–∞–≥–∏–Ω–∞—Ü–∏—è (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)

–í –±—É–¥—É—â–∏—Ö –≤–µ—Ä—Å–∏—è—Ö API –±—É–¥–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é:

```
GET /api/endpoint?page=1&limit=20
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "data": [...],
  "pagination": {
    "page": 1,
    "limit": 20,
    "total": 100,
    "totalPages": 5
  }
}
```

### –õ–æ–≥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

#### GET /api/activity-logs
–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ª–æ–≥–æ–≤ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π.

**–ü—Ä–∞–≤–∞:** admin

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
- `userId` - –§–∏–ª—å—Ç—Ä –ø–æ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `action` - –§–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É –¥–µ–π—Å—Ç–≤–∏—è (CREATE, UPDATE, DELETE, SETTINGS_CHANGE)
- `entityType` - –§–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É —Å—É—â–Ω–æ—Å—Ç–∏ (User, Group, Subject, Schedule, Homework, BotSettings)
- `startDate` - –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –ø–µ—Ä–∏–æ–¥–∞ (YYYY-MM-DD)
- `endDate` - –î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è –ø–µ—Ä–∏–æ–¥–∞ (YYYY-MM-DD)
- `page` - –ù–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1)
- `limit` - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 50)

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```bash
GET /api/activity-logs?action=UPDATE&entityType=User&startDate=2025-11-01&page=1&limit=50
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "logs": [
    {
      "id": "clx123...",
      "userId": "user456",
      "action": "UPDATE",
      "entityType": "User",
      "entityId": "user789",
      "ipAddress": "192.168.1.100",
      "details": {
        "before": {
          "id": "user789",
          "name": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
          "role": "student"
        },
        "after": {
          "id": "user789",
          "name": "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",
          "role": "student"
        },
        "changes": [
          {
            "field": "name",
            "oldValue": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
            "newValue": "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤"
          }
        ]
      },
      "result": "SUCCESS",
      "createdAt": "2025-11-03T20:10:57Z",
      "user": {
        "id": "user456",
        "name": "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä",
        "email": "admin@example.com",
        "role": "admin"
      }
    }
  ],
  "pagination": {
    "page": 1,
    "limit": 50,
    "total": 150,
    "pages": 3
  }
}
```

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–ª—è –≤—Å–µ—Ö CRUD –æ–ø–µ—Ä–∞—Ü–∏–π –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–∞—Å—Ç—Ä–æ–µ–∫. –ü–æ–¥—Ä–æ–±–Ω–µ–µ —Å–º. [–õ–æ–≥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏](./features/ACTIVITY_LOG.md).

## Rate Limiting (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)

–í production –æ–∫—Ä—É–∂–µ–Ω–∏–∏ –±—É–¥–µ—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å—Å—è rate limiting:
- 100 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- 10 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É –¥–ª—è –Ω–µ–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [–†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π](./features/USER_ROLES.md)
- [–õ–æ–≥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏](./features/ACTIVITY_LOG.md)
- [–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–≥—Ä—É–ø–ø](./features/SUBGROUPS_SYSTEM.md)
- [–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏](./features/ATTENDANCE_TRACKING.md)
- [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —ç–∫–∑–∞–º–µ–Ω–∞–º–∏](./features/EXAM_MANAGEMENT.md)
- [–ú–µ–Ω—Ç–æ—Ä—Å–∫–∏–µ –≤—Å—Ç—Ä–µ—á–∏](./features/MENTOR_MEETINGS.md)
- [–§–æ—Ä—É–º –∏ –æ–±—Å—É–∂–¥–µ–Ω–∏—è](./features/FORUM_SYSTEM.md)
- [–î–æ–∫—É–º–µ–Ω—Ç—ã –∏ —Ä–µ—Å—É—Ä—Å—ã](./features/DOCUMENTS_RESOURCES.md)

---

*–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞: 19 –Ω–æ—è–±—Ä—è 2025*
*–í–µ—Ä—Å–∏—è —Å–∏—Å—Ç–µ–º—ã: 0.4.0-alpha*


