# ADR-006: –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–≥—Ä—É–ø–ø

**–°—Ç–∞—Ç—É—Å**: üü° –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ  
**–î–∞—Ç–∞**: –§–µ–≤—Ä–∞–ª—å 2024  
**–ê–≤—Ç–æ—Ä—ã**: –ü–∞–≤–µ–ª –®–µ—Ä—à–Ω—ë–≤  
**–°–≤—è–∑–∏**: [[UserGroup]], [[Schedule]], [[–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–≥—Ä—É–ø–ø]]

## –ö–æ–Ω—Ç–µ–∫—Å—Ç –∏ –ø—Ä–æ–±–ª–µ–º–∞

–í —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–µ –ú–§–¢–ò —Ä–∞–∑–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã —Ç—Ä–µ–±—É—é—Ç —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –Ω–∞ –ø–æ–¥–≥—Ä—É–ø–ø—ã –ø–æ —Ä–∞–∑–Ω—ã–º –ø—Ä–∏–Ω—Ü–∏–ø–∞–º:
- **–ö–æ–º–º–µ—Ä—Ü–∏—è** - 2 –ø–æ–¥–≥—Ä—É–ø–ø—ã
- **–°–µ–º–∏–Ω–∞—Ä—ã** - 3 –ø–æ–¥–≥—Ä—É–ø–ø—ã
- **–§–∏–Ω–∞–Ω—Å—ã** - 2 –ø–æ–¥–≥—Ä—É–ø–ø—ã
- **–°–∏—Å—Ç–µ–º–Ω–æ–µ –º—ã—à–ª–µ–Ω–∏–µ** - 2 –ø–æ–¥–≥—Ä—É–ø–ø—ã

–ü—Ä–æ–±–ª–µ–º–∞: –Ω–µ–ª—å–∑—è –ø—Ä–æ—Å—Ç–æ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –≥—Ä—É–ø–ø—É –Ω–∞ "–ø–æ–¥–≥—Ä—É–ø–ø—É 1" –∏ "–ø–æ–¥–≥—Ä—É–ø–ø—É 2", —Ç.–∫. —Å—Ç—É–¥–µ–Ω—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å –≤ –ø–æ–¥–≥—Ä—É–ø–ø–µ 1 –ø–æ –∫–æ–º–º–µ—Ä—Ü–∏–∏, –Ω–æ –≤ –ø–æ–¥–≥—Ä—É–ø–ø–µ 2 –ø–æ —Ñ–∏–Ω–∞–Ω—Å–∞–º.

## –†–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã

### 1. –û—Ç–¥–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–µ–¥–º–µ—Ç–∞ ‚úÖ
**–û–ø–∏—Å–∞–Ω–∏–µ**: –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è –≤ UserGroup –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–µ–¥–º–µ—Ç–∞ —Å –ø–æ–¥–≥—Ä—É–ø–ø–∞–º–∏

**–ü–ª—é—Å—ã**:
- ‚úÖ –ü—Ä–æ—Å—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
- ‚úÖ –¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- ‚úÖ –ü–æ–Ω—è—Ç–Ω–∞—è —Å—Ö–µ–º–∞ –ë–î
- ‚úÖ –õ–µ–≥–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã

**–ú–∏–Ω—É—Å—ã**:
- ‚ö†Ô∏è –ù—É–∂–Ω–æ –º–∏–≥—Ä–∞—Ü–∏—è –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –ø—Ä–µ–¥–º–µ—Ç–∞
- ‚ö†Ô∏è "–ñ–µ—Å—Ç–∫–∞—è" —Å—Ö–µ–º–∞

### 2. JSON –ø–æ–ª–µ —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º–∏ –ø–æ–¥–≥—Ä—É–ø–ø–∞–º–∏
**–û–ø–∏—Å–∞–Ω–∏–µ**: –û–¥–Ω–æ JSON –ø–æ–ª–µ —Å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–º–∏ –ø–æ–¥–≥—Ä—É–ø–ø–∞–º–∏

```json
{
  "commerce": 1,
  "tutorial": 2,
  "finance": 1
}
```

**–ü–ª—é—Å—ã**:
- ‚úÖ –ì–∏–±–∫–æ—Å—Ç—å
- ‚úÖ –ù–µ –Ω—É–∂–Ω—ã –º–∏–≥—Ä–∞—Ü–∏–∏

**–ú–∏–Ω—É—Å—ã**:
- ‚ùå –ù–µ—Ç —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- ‚ùå –°–ª–æ–∂–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- ‚ùå –ù–µ—Ç validation –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î

### 3. –û—Ç–¥–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ Subgroup
**–û–ø–∏—Å–∞–Ω–∏–µ**: Many-to-many —Å–≤—è–∑—å User-Subgroup-Subject

```prisma
model Subgroup {
  id        String @id
  name      String
  subjectId String
  students  User[]
}
```

**–ü–ª—é—Å—ã**:
- ‚úÖ –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –ë–î
- ‚úÖ –ì–∏–±–∫–æ—Å—Ç—å

**–ú–∏–Ω—É—Å—ã**:
- ‚ùå –°–ª–æ–∂–Ω–µ–µ –∑–∞–ø—Ä–æ—Å—ã (joins)
- ‚ùå –ò–∑–±—ã—Ç–æ—á–Ω–æ –¥–ª—è —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–¥–≥—Ä—É–ø–ø
- ‚ùå –ë–æ–ª—å—à–µ –∫–æ–¥–∞

### 4. –ë–µ–∑ –ø–æ–¥–≥—Ä—É–ø–ø (workaround)
**–û–ø–∏—Å–∞–Ω–∏–µ**: –°–æ–∑–¥–∞–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ "–≥—Ä—É–ø–ø" –≤–º–µ—Å—Ç–æ –ø–æ–¥–≥—Ä—É–ø–ø

**–ú–∏–Ω—É—Å—ã**:
- ‚ùå –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- ‚ùå –ó–∞–ø—É—Ç–∞–Ω–Ω–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚ùå –ù–µ —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É

## –†–µ—à–µ–Ω–∏–µ

**–í—ã–±—Ä–∞–Ω –≤–∞—Ä–∏–∞–Ω—Ç 1: –û—Ç–¥–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–µ–¥–º–µ—Ç–∞**

### –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ

1. **–ü—Ä–æ—Å—Ç–æ—Ç–∞**: –ü–æ–Ω—è—Ç–Ω–∞—è —Å—Ö–µ–º–∞, –ª–µ–≥–∫–æ –æ–±—ä—è—Å–Ω–∏—Ç—å

2. **–¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: TypeScript —Ç–∏–ø—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

3. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ë—ã—Å—Ç—Ä—ã–µ –∑–∞–ø—Ä–æ—Å—ã –±–µ–∑ joins

4. **–ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å**: –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ (—Ä–µ–¥–∫–æ –º–µ–Ω—è–µ—Ç—Å—è)

5. **–ú–∏–≥—Ä–∞—Ü–∏–∏ –Ω–µ –ø—Ä–æ–±–ª–µ–º–∞**: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–µ–¥–º–µ—Ç–∞ - —Ä–µ–¥–∫–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### Prisma Schema

```prisma
model UserGroup {
  id                     String   @id @default(cuid())
  userId                 String
  groupId                String
  subgroupCommerce       Int?     // –ü–æ–¥–≥—Ä—É–ø–ø–∞ –¥–ª—è –ö–æ–º–º–µ—Ä—Ü–∏–∏ (1, 2)
  subgroupTutorial       Int?     // –ü–æ–¥–≥—Ä—É–ø–ø–∞ –¥–ª—è —Å–µ–º–∏–Ω–∞—Ä–æ–≤ (1, 2, 3)
  subgroupFinance        Int?     // –ü–æ–¥–≥—Ä—É–ø–ø–∞ –¥–ª—è –§–∏–Ω–∞–Ω—Å–æ–≤ (1, 2)
  subgroupSystemThinking Int?     // –ü–æ–¥–≥—Ä—É–ø–ø–∞ –¥–ª—è –°–∏—Å—Ç–µ–º–Ω–æ–≥–æ –º—ã—à–ª–µ–Ω–∏—è (1, 2)
  createdAt              DateTime @default(now())
  
  group                  Group    @relation(...)
  user                   User     @relation(...)

  @@unique([userId, groupId])
  @@map("user_groups")
}

model Schedule {
  id          String   @id @default(cuid())
  subjectId   String
  groupId     String?
  subgroupId  String?  // "1", "2", "3" –∏–ª–∏ null (–¥–ª—è –≤—Å–µ–π –≥—Ä—É–ø–ø—ã)
  date        DateTime
  startTime   String
  endTime     String
  // ...
}
```

### TypeScript —Ç–∏–ø—ã

```typescript
// lib/types.ts
export interface UserGroup {
  id: string
  userId: string
  groupId: string
  subgroupCommerce?: number
  subgroupTutorial?: number
  subgroupFinance?: number
  subgroupSystemThinking?: number
}

export interface SubgroupAssignment {
  commerce?: number
  tutorial?: number
  finance?: number
  systemThinking?: number
}
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Å—Ç—É–¥–µ–Ω—Ç–∞ –≤ –ø–æ–¥–≥—Ä—É–ø–ø—ã

```typescript
await prisma.userGroup.upsert({
  where: {
    userId_groupId: {
      userId: studentId,
      groupId: groupId
    }
  },
  update: {
    subgroupCommerce: 1,
    subgroupTutorial: 2,
    subgroupFinance: 1,
    subgroupSystemThinking: 2
  },
  create: {
    userId: studentId,
    groupId: groupId,
    subgroupCommerce: 1,
    subgroupTutorial: 2,
    subgroupFinance: 1,
    subgroupSystemThinking: 2
  }
})
```

### –°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –¥–ª—è –ø–æ–¥–≥—Ä—É–ø–ø—ã

```typescript
await prisma.schedule.create({
  data: {
    subjectId: commerceSubjectId,
    groupId: groupId,
    subgroupId: '1',  // –¢–æ–ª—å–∫–æ –¥–ª—è –ø–æ–¥–≥—Ä—É–ø–ø—ã 1
    date: new Date('2024-11-01'),
    startTime: '10:00',
    endTime: '11:30',
    location: '–ê—É–¥. 123'
  }
})
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è —Å—Ç—É–¥–µ–Ω—Ç–∞ —Å —É—á–µ—Ç–æ–º –ø–æ–¥–≥—Ä—É–ø–ø

```typescript
async function getStudentSchedule(studentId: string, groupId: string) {
  // –ü–æ–ª—É—á–∏—Ç—å –ø–æ–¥–≥—Ä—É–ø–ø—ã —Å—Ç—É–¥–µ–Ω—Ç–∞
  const userGroup = await prisma.userGroup.findUnique({
    where: {
      userId_groupId: {
        userId: studentId,
        groupId: groupId
      }
    }
  })
  
  // –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–µ–¥–º–µ—Ç—ã —Å –ø–æ–¥–≥—Ä—É–ø–ø–∞–º–∏
  const [commerce, tutorial, finance, systemThinking] = await Promise.all([
    prisma.subject.findFirst({ where: { name: '–ö–æ–º–º–µ—Ä—Ü–∏—è' } }),
    prisma.subject.findFirst({ where: { name: '–°–µ–º–∏–Ω–∞—Ä—ã' } }),
    prisma.subject.findFirst({ where: { name: '–§–∏–Ω–∞–Ω—Å—ã' } }),
    prisma.subject.findFirst({ where: { name: '–°–∏—Å—Ç–µ–º–Ω–æ–µ –º—ã—à–ª–µ–Ω–∏–µ' } })
  ])
  
  // –ü–æ—Å—Ç—Ä–æ–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä
  const schedules = await prisma.schedule.findMany({
    where: {
      groupId: groupId,
      OR: [
        { subgroupId: null }, // –ó–∞–Ω—è—Ç–∏—è –¥–ª—è –≤—Å–µ–π –≥—Ä—É–ø–ø—ã
        {
          subjectId: commerce?.id,
          subgroupId: userGroup?.subgroupCommerce?.toString()
        },
        {
          subjectId: tutorial?.id,
          subgroupId: userGroup?.subgroupTutorial?.toString()
        },
        {
          subjectId: finance?.id,
          subgroupId: userGroup?.subgroupFinance?.toString()
        },
        {
          subjectId: systemThinking?.id,
          subgroupId: userGroup?.subgroupSystemThinking?.toString()
        }
      ]
    },
    include: {
      subject: true
    },
    orderBy: {
      date: 'asc'
    }
  })
  
  return schedules
}
```

## –°—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- –ú–æ–¥–µ–ª—å `UserGroup` —Å –ø–æ–ª—è–º–∏ –ø–æ–¥–≥—Ä—É–ø–ø
- –ü–æ–ª–µ `subgroupId` –≤ `Schedule`
- –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î

### ‚è≥ TODO (–í —Å–ª–µ–¥—É—é—â–∏—Ö –≤–µ—Ä—Å–∏—è—Ö)
- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç—É–¥–µ–Ω—Ç–∞–º–∏ –≤ –≥—Ä—É–ø–ø–µ (`/admin/groups/[id]/students`)
- –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–¥–≥—Ä—É–ø–ø —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –ø–æ –ø–æ–¥–≥—Ä—É–ø–ø–∞–º —Å—Ç—É–¥–µ–Ω—Ç–∞ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- –í—ã–±–æ—Ä –ø–æ–¥–≥—Ä—É–ø–ø—ã –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
- –ò–º–ø–æ—Ä—Ç –ø–æ–¥–≥—Ä—É–ø–ø –∏–∑ Excel
- API endpoints –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–¥–≥—Ä—É–ø–ø–∞–º–∏:
  - `GET /api/groups/[id]/students`
  - `PUT /api/groups/[id]/students/[studentId]/subgroups`

## –ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è

### –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ

- ‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å**: –†–∞–∑–Ω—ã–µ –ø–æ–¥–≥—Ä—É–ø–ø—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤
- ‚úÖ **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è**: –ö–∞–∂–¥—ã–π —Å—Ç—É–¥–µ–Ω—Ç –≤–∏–¥–∏—Ç —Å–≤–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
- ‚úÖ **–¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: Prisma –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ç–∏–ø—ã
- ‚úÖ **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ù–µ—Ç —Å–ª–æ–∂–Ω—ã—Ö joins

### –ù–µ–≥–∞—Ç–∏–≤–Ω—ã–µ

- ‚ö†Ô∏è **–ú–∏–≥—Ä–∞—Ü–∏–∏**: –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –ø—Ä–µ–¥–º–µ—Ç–∞ –Ω—É–∂–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è
- ‚ö†Ô∏è **–ñ–µ—Å—Ç–∫–æ—Å—Ç—å**: –ù–µ–ª—å–∑—è –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—É—é –ø–æ–¥–≥—Ä—É–ø–ø—É –±–µ–∑ –º–∏–≥—Ä–∞—Ü–∏–∏
- ‚ö†Ô∏è **–°–ª–æ–∂–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã**: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è —Ç—Ä–µ–±—É–µ—Ç OR —É—Å–ª–æ–≤–∏–π

### –°–º—è–≥—á–µ–Ω–∏—è

1. **–†–µ–¥–∫–æ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–π**: –ü—Ä–µ–¥–º–µ—Ç—ã —Å –ø–æ–¥–≥—Ä—É–ø–ø–∞–º–∏ –º–µ–Ω—è—é—Ç—Å—è —Ä–µ–¥–∫–æ
2. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: –ü—Ä–æ—Ü–µ—Å—Å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ –ø—Ä–µ–¥–º–µ—Ç–∞ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –≤ [[–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–≥—Ä—É–ø–ø]]
3. **Helpers**: –§—É–Ω–∫—Ü–∏–∏-—Ö–µ–ª–ø–µ—Ä—ã –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤

## –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–µ–¥–º–µ—Ç–∞

### –ü—Ä–æ—Ü–µ—Å—Å
1. –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ –≤ Prisma Schema:
   ```prisma
   subgroupNewSubject Int?
   ```

2. –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é:
   ```bash
   npx prisma migrate dev --name add_new_subject_subgroup
   ```

3. –û–±–Ω–æ–≤–∏—Ç—å TypeScript —Ç–∏–ø—ã:
   ```bash
   npx prisma generate
   ```

4. –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–¥–≥—Ä—É–ø–ø (–∫–æ–≥–¥–∞ –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω)

5. –û–±–Ω–æ–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `getStudentSchedule()`

## –í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ (–¥–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ UI)

### Workaround
–ü–æ–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
- –ü–æ–ª–µ `description` –≤ `Schedule` –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è –ø–æ–¥–≥—Ä—É–ø–ø—ã —Ç–µ–∫—Å—Ç–æ–º
- –°–æ–≥–ª–∞—à–µ–Ω–∏–µ –æ–± –∏–º–µ–Ω–æ–≤–∞–Ω–∏–∏: "–°–µ–º–∏–Ω–∞—Ä (–ø–æ–¥–≥—Ä—É–ø–ø–∞ 1)"
- –ü—Ä—è–º—ã–µ SQL –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –º–∞—Å—Å–æ–≤–æ–≥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä SQL
```sql
-- –ù–∞–∑–Ω–∞—á–∏—Ç—å –≤—Å–µ—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –≥—Ä—É–ø–ø—ã –≤ –ø–æ–¥–≥—Ä—É–ø–ø—ã (—Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ)
UPDATE user_groups
SET 
  subgroup_commerce = (ROW_NUMBER() OVER (ORDER BY user_id) % 2) + 1,
  subgroup_tutorial = (ROW_NUMBER() OVER (ORDER BY user_id) % 3) + 1
WHERE group_id = 'your-group-id';
```

## –í–ª–∏—è–Ω–∏–µ –Ω–∞ –¥—Ä—É–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### –ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ –æ–±–ª–∞—Å—Ç–∏
- [[UserGroup]] - –º–æ–¥–µ–ª—å —Å –ø–æ–¥–≥—Ä—É–ø–ø–∞–º–∏
- [[Schedule]] - –ø–æ–ª–µ `subgroupId`
- [[Student —Å—Ç—Ä–∞–Ω–∏—Ü—ã]] - —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
- [[Admin —Å—Ç—Ä–∞–Ω–∏—Ü—ã]] - –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–¥–≥—Ä—É–ø–ø (TODO)
- [[API Routes]] - endpoints –¥–ª—è –ø–æ–¥–≥—Ä—É–ø–ø (TODO)

### –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è
- [[ADR-002 Prisma ORM]] - —Å—Ö–µ–º–∞ –ë–î
- [[ADR-001 Next.js 14 App Router]] - UI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

## –°—Å—ã–ª–∫–∏

### –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Ä–µ—Å—É—Ä—Å—ã
- [[–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–≥—Ä—É–ø–ø]] - –¥–µ—Ç–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [[UserGroup]] - –º–æ–¥–µ–ª—å
- [[Schedule]] - –º–æ–¥–µ–ª—å
- –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è: [docs/features/SUBGROUPS.md](../../docs/features/SUBGROUPS.md)

## –ò—Å—Ç–æ—Ä–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

- **2024-02**: –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ
- **2024-03**: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ë–î —Å—Ö–µ–º–∞
- **2024-10**: –û–∂–∏–¥–∞–µ—Ç—Å—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è UI

---

#adr #architecture #subgroups #schedule #decision #wip

