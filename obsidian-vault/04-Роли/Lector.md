# Lector (–†–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)

> –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å —Å –ø—Ä–∞–≤–∞–º–∏ —Å–æ–∑–¥–∞–Ω–∏—è –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ–º–∞—à–Ω–∏—Ö –∑–∞–¥–∞–Ω–∏–π

## –û–ø–∏—Å–∞–Ω–∏–µ —Ä–æ–ª–∏

**Lector** (–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å) - —Ä–æ–ª—å –¥–ª—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞, –≤–µ–¥—É—â–∏—Ö –ø—Ä–µ–¥–º–µ—Ç—ã –∏ –ø—Ä–æ–≤–µ—Ä—è—é—â–∏—Ö —Ä–∞–±–æ—Ç—ã —Å—Ç—É–¥–µ–Ω—Ç–æ–≤.

**–ó–Ω–∞—á–µ–Ω–∏–µ –≤ —Å–∏—Å—Ç–µ–º–µ**: `role = "lector"`

## –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

### ‚úÖ –†–∞–∑—Ä–µ—à–µ–Ω–æ

#### –ú–æ–∏ –ø—Ä–µ–¥–º–µ—Ç—ã
- –ü—Ä–æ—Å–º–æ—Ç—Ä –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ –≥—Ä—É–ø–ø –ø–æ —Å–≤–æ–∏–º –ø—Ä–µ–¥–º–µ—Ç–∞–º
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –ø–æ —Å–≤–æ–∏–º –ø—Ä–µ–¥–º–µ—Ç–∞–º

#### –î–æ–º–∞—à–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è
- **–°–æ–∑–¥–∞–Ω–∏–µ –î–ó** –¥–ª—è —Å–≤–æ–∏—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤ (MDX —Ä–µ–¥–∞–∫—Ç–æ—Ä)
- **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –î–ó** –ø–æ —Å–≤–æ–∏–º –ø—Ä–µ–¥–º–µ—Ç–∞–º
- **–£–¥–∞–ª–µ–Ω–∏–µ –î–ó** –ø–æ —Å–≤–æ–∏–º –ø—Ä–µ–¥–º–µ—Ç–∞–º
- –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö —Å–¥–∞–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç –ø–æ —Å–≤–æ–∏–º –ø—Ä–µ–¥–º–µ—Ç–∞–º
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç –ø–æ —Å—Ç–∞—Ç—É—Å—É –∏ —Å—Ç—É–¥–µ–Ω—Ç–∞–º

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç
- –ü—Ä–æ—Å–º–æ—Ç—Ä MDX –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Ä–∞–±–æ—Ç —Å—Ç—É–¥–µ–Ω—Ç–æ–≤
- **–í—ã—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ—Ü–µ–Ω–æ–∫** (grade)
- **–†–∞–∑–≤–µ—Ä–Ω—É—Ç–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å** (feedback –≤ MDX)
- **Inline –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏** –∫ —Ä–∞–±–æ—Ç–∞–º
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —Ä–∞–±–æ—Ç—ã (NOT_SUBMITTED ‚Üí SUBMITTED ‚Üí REVIEWED)

#### –ü—Ä–æ—Ñ–∏–ª—å –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- –ü—Ä–æ—Å–º–æ—Ç—Ä –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
- Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∑–∞–Ω—è—Ç–∏—è—Ö
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Telegram –ø—Ä–∏–≤—è–∑–∫–æ–π

### ‚ùå –ó–∞–ø—Ä–µ—â–µ–Ω–æ

- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥—Ä—É–ø–ø–∞–º–∏
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞–º–∏ (—Å–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- –°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- –ü—Ä–æ—Å–º–æ—Ç—Ä/–ø—Ä–æ–≤–µ—Ä–∫–∞ –î–ó –ø–æ —á—É–∂–∏–º –ø—Ä–µ–¥–º–µ—Ç–∞–º
- –î–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

## –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
**–ü—É—Ç—å**: `/lector`  
**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `app/lector/page.tsx`

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ**:
- –°–ø–∏—Å–æ–∫ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –î–ó (–≤—Å–µ–≥–æ, –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö, –æ–∂–∏–¥–∞—é—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏)
- –ë–ª–∏–∂–∞–π—à–∏–µ –∑–∞–Ω—è—Ç–∏—è
- –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å–¥–∞–Ω–Ω—ã–µ —Ä–∞–±–æ—Ç—ã

### –†–∞–∑–¥–µ–ª—ã –ª–µ–∫—Ç–æ—Ä–∞

#### –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ
**–ü—É—Ç—å**: `/lector/schedule`  
**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `app/lector/schedule/page.tsx`

- –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–Ω—è—Ç–∏–π –ø–æ —Å–≤–æ–∏–º –ø—Ä–µ–¥–º–µ—Ç–∞–º
- –ö–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã–π –≤–∏–¥
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≥—Ä—É–ø–ø–∞—Ö
- Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∑–∞–Ω—è—Ç–∏—è—Ö

#### –î–æ–º–∞—à–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è
**–ü—É—Ç—å**: `/lector/homework`  
**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `app/lector/homework/page.tsx`

**–í–∫–ª–∞–¥–∫–∏**:
- **–ú–æ–∏ –∑–∞–¥–∞–Ω–∏—è** - —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –î–ó
- **–ù–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ** - —Å–¥–∞–Ω–Ω—ã–µ —Ä–∞–±–æ—Ç—ã (status: SUBMITTED)
- **–ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ** - —Ä–∞–±–æ—Ç—ã —Å –æ—Ü–µ–Ω–∫–∞–º–∏ (status: REVIEWED)

**–î–µ–π—Å—Ç–≤–∏—è**:
- –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–¥–∞–Ω–∏–µ
- –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–∞–±–æ—Ç—ã —Å—Ç—É–¥–µ–Ω—Ç–æ–≤

#### –°–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è
**–ü—É—Ç—å**: `/lector/homework/create`, `/lector/homework/[id]/edit`  
**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `app/lector/homework/create/page.tsx`

**–§–æ—Ä–º–∞**:
- –ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è
- –í—ã–±–æ—Ä –ø—Ä–µ–¥–º–µ—Ç–∞ (–∏–∑ —Å–≤–æ–∏—Ö)
- –í—ã–±–æ—Ä –≥—Ä—É–ø–ø—ã
- **MDX —Ä–µ–¥–∞–∫—Ç–æ—Ä** –¥–ª—è —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è
- –î–µ–¥–ª–∞–π–Ω
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã (—Å—Å—ã–ª–∫–∏, —Ñ–∞–π–ª—ã)
- –ö–Ω–æ–ø–∫–∞ "–°–æ–∑–¥–∞—Ç—å"/"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã
**–ü—É—Ç—å**: `/lector/homework/[id]/submissions/[submissionId]`  
**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `app/lector/homework/[id]/submissions/[submissionId]/page.tsx`

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ**:
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å—Ç—É–¥–µ–Ω—Ç–µ
- –ó–∞–¥–∞–Ω–∏–µ (MDX)
- –†–∞–±–æ—Ç–∞ —Å—Ç—É–¥–µ–Ω—Ç–∞ (MDX)
- **Inline –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏** –∫ —Ä–∞–±–æ—Ç–µ
- –§–æ—Ä–º–∞ –æ—Ü–µ–Ω–∏–≤–∞–Ω–∏—è:
  - –û—Ü–µ–Ω–∫–∞ (1-10 –∏–ª–∏ 1-100)
  - Feedback (MDX —Ä–µ–¥–∞–∫—Ç–æ—Ä)
  - –ö–Ω–æ–ø–∫–∞ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É"

#### –ü—Ä–æ—Ñ–∏–ª—å
**–ü—É—Ç—å**: `/lector/profile`  
**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: `app/lector/profile/page.tsx`

**–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è**:
- –õ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –ù–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã
- Telegram –ø—Ä–∏–≤—è–∑–∫–∞
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### –ù–∞–≤–∏–≥–∞—Ü–∏—è
**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: [[lector-nav.tsx]]

–ë–æ–∫–æ–≤–æ–µ –º–µ–Ω—é:
- üè† –ì–ª–∞–≤–Ω–∞—è
- üìÖ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ
- üìù –î–æ–º–∞—à–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è
- üë§ –ü—Ä–æ—Ñ–∏–ª—å

## API Endpoints

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: [[Homework API]], [[Schedules API]]

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –¥–ª—è Lector

- `GET /api/subjects?lectorId={myId}` - —Å–≤–æ–∏ –ø—Ä–µ–¥–º–µ—Ç—ã
- `GET /api/schedules?subjectId={mySubjectId}` - —Å–≤–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
- `GET /api/homework?lectorId={myId}` - —Å–≤–æ–∏ –∑–∞–¥–∞–Ω–∏—è
- `POST /api/homework` - —Å–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞–Ω–∏–µ
- `PUT /api/homework/[id]` - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ
- `DELETE /api/homework/[id]` - —É–¥–∞–ª–∏—Ç—å —Å–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ
- `GET /api/homework/[id]/submissions` - —Ä–∞–±–æ—Ç—ã –ø–æ —Å–≤–æ–µ–º—É –∑–∞–¥–∞–Ω–∏—é
- `POST /api/homework/[id]/submissions/[submissionId]/review` - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É
- `POST /api/homework/[id]/submissions/[submissionId]/comments` - –¥–æ–±–∞–≤–∏—Ç—å inline –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
- `GET /api/profile` - —Å–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å
- `PUT /api/profile` - –æ–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å

## –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö

**–ú–æ–¥–µ–ª—å**: [[User]]  
**–†–æ–ª—å**: `role = "lector"`

```typescript
interface Lector extends User {
  role: 'lector'
  assignedSubjects: Subject[]  // –ù–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã
  homeworkComments: HomeworkComment[]  // –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —Ä–∞–±–æ—Ç–∞–º
}
```

## –°–≤—è–∑–∏

### –û—Å–Ω–æ–≤–Ω—ã–µ
- [[Subject]][] - –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã (—á–µ—Ä–µ–∑ `lectorId`)
- [[Homework]][] - —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è (—á–µ—Ä–µ–∑ `subject.lectorId`)
- [[HomeworkComment]][] - –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —Ä–∞–±–æ—Ç–∞–º —Å—Ç—É–¥–µ–Ω—Ç–æ–≤

### –ß–µ—Ä–µ–∑ –ø—Ä–µ–¥–º–µ—Ç—ã
- [[Schedule]][] - —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø–æ –ø—Ä–µ–¥–º–µ—Ç–∞–º
- [[HomeworkSubmission]][] - —Ä–∞–±–æ—Ç—ã —Å—Ç—É–¥–µ–Ω—Ç–æ–≤

## –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ª–µ–∫—Ç–æ—Ä–∞ –∫ –ø—Ä–µ–¥–º–µ—Ç—É

**–î–µ–π—Å—Ç–≤–∏–µ**: –í—ã–ø–æ–ª–Ω—è–µ—Ç [[Admin]]

```typescript
await prisma.subject.update({
  where: { id: subjectId },
  data: {
    lectorId: lectorUserId
  }
})
```

–ü–æ—Å–ª–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –ª–µ–∫—Ç–æ—Ä –ø–æ–ª—É—á–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫:
- –°–æ–∑–¥–∞–Ω–∏—é –î–ó –¥–ª—è —ç—Ç–æ–≥–æ –ø—Ä–µ–¥–º–µ—Ç–∞
- –ü—Ä–æ—Å–º–æ—Ç—Ä—É —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –ø–æ –ø—Ä–µ–¥–º–µ—Ç—É
- –ü—Ä–æ–≤–µ—Ä–∫–µ —Ä–∞–±–æ—Ç —Å—Ç—É–¥–µ–Ω—Ç–æ–≤

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–≤–æ–∏—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤

```typescript
const mySubjects = await prisma.subject.findMany({
  where: {
    lectorId: lectorId
  },
  include: {
    homework: {
      where: {
        isActive: true
      }
    },
    schedules: {
      where: {
        date: {
          gte: new Date()
        }
      }
    },
    _count: {
      select: {
        homework: true,
        schedules: true
      }
    }
  }
})
```

### –°–æ–∑–¥–∞–Ω–∏–µ –¥–æ–º–∞—à–Ω–µ–≥–æ –∑–∞–¥–∞–Ω–∏—è

```typescript
'use client'

import { MarkdownEditor } from '@/components/ui/markdown-editor'
import { useState } from 'react'

export function HomeworkForm() {
  const [content, setContent] = useState('')
  
  async function handleSubmit(data) {
    await fetch('/api/homework', {
      method: 'POST',
      body: JSON.stringify({
        title: data.title,
        content: content,  // MDX
        subjectId: data.subjectId,
        groupId: data.groupId,
        deadline: data.deadline,
        materials: data.materials
      })
    })
    
    toast.success('–ó–∞–¥–∞–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–æ!')
  }
  
  return (
    <form>
      <Input name="title" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è" />
      <Select name="subjectId">{/* –°–≤–æ–∏ –ø—Ä–µ–¥–º–µ—Ç—ã */}</Select>
      <Select name="groupId">{/* –ì—Ä—É–ø–ø—ã */}</Select>
      <DatePicker name="deadline" />
      <MarkdownEditor
        value={content}
        onChange={setContent}
        placeholder="–û–ø–∏—à–∏—Ç–µ –∑–∞–¥–∞–Ω–∏–µ..."
      />
      <Button onClick={handleSubmit}>–°–æ–∑–¥–∞—Ç—å</Button>
    </form>
  )
}
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É

```typescript
const pendingReviews = await prisma.homeworkSubmission.findMany({
  where: {
    homework: {
      subject: {
        lectorId: lectorId
      }
    },
    status: 'SUBMITTED'  // –°–¥–∞–Ω–Ω—ã–µ, –Ω–æ –Ω–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ
  },
  include: {
    homework: {
      include: {
        subject: true
      }
    },
    user: {
      select: {
        name: true,
        email: true
      }
    }
  },
  orderBy: {
    submittedAt: 'asc'  // –°–Ω–∞—á–∞–ª–∞ —Å–∞–º—ã–µ —Å—Ç–∞—Ä—ã–µ
  }
})
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

```typescript
async function reviewSubmission({
  submissionId,
  grade,
  feedback,
  comment
}: {
  submissionId: string
  grade: number
  feedback: string  // MDX
  comment?: string  // MDX
}) {
  await fetch(`/api/homework/${homeworkId}/submissions/${submissionId}/review`, {
    method: 'POST',
    body: JSON.stringify({
      grade,
      feedback,
      comment,
      status: 'REVIEWED'
    })
  })
  
  toast.success('–†–∞–±–æ—Ç–∞ –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞!')
}
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ inline –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è

```typescript
async function addInlineComment({
  submissionId,
  selectedText,
  startOffset,
  endOffset,
  comment
}: {
  submissionId: string
  selectedText: string
  startOffset: number
  endOffset: number
  comment: string
}) {
  await fetch(`/api/homework/${homeworkId}/submissions/${submissionId}/comments`, {
    method: 'POST',
    body: JSON.stringify({
      content: comment,
      startOffset,
      endOffset,
      selectedText
    })
  })
}
```

## –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ª–µ–∫—Ç–æ—Ä–∞

### –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
```typescript
const lectorStats = {
  totalSubjects: 3,
  totalHomework: 15,
  pendingReviews: 8,
  reviewedToday: 5,
  avgGradeGiven: 8.2
}
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –ø—Ä–µ–¥–º–µ—Ç–∞–º
```typescript
const subjectStats = await prisma.subject.findMany({
  where: {
    lectorId: lectorId
  },
  include: {
    homework: {
      include: {
        submissions: {
          where: {
            status: {
              in: ['SUBMITTED', 'REVIEWED']
            }
          }
        }
      }
    }
  }
})

const stats = subjectStats.map(subject => ({
  name: subject.name,
  totalHomework: subject.homework.length,
  totalSubmissions: subject.homework.reduce((sum, hw) => 
    sum + hw.submissions.length, 0
  ),
  pendingReviews: subject.homework.reduce((sum, hw) => 
    sum + hw.submissions.filter(s => s.status === 'SUBMITTED').length, 0
  )
}))
```

## MDX —Ä–µ–¥–∞–∫—Ç–æ—Ä –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

**ADR**: [[ADR-005 MDX –¥–ª—è –¥–æ–º–∞—à–Ω–∏—Ö –∑–∞–¥–∞–Ω–∏–π]]  
**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç**: [[markdown-editor.tsx]]

### Feedback —Ñ–æ—Ä–º–∞

```typescript
'use client'

import { MarkdownEditor } from '@/components/ui/markdown-editor'

export function ReviewForm({ submission }) {
  const [feedback, setFeedback] = useState('')
  const [grade, setGrade] = useState<number>()
  
  return (
    <div>
      <h3>–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã: {submission.user.name}</h3>
      
      {/* –†–∞–±–æ—Ç–∞ —Å—Ç—É–¥–µ–Ω—Ç–∞ */}
      <MarkdownViewer content={submission.content} />
      
      {/* –§–æ—Ä–º–∞ –æ—Ü–µ–Ω–∏–≤–∞–Ω–∏—è */}
      <Input
        type="number"
        min="1"
        max="10"
        value={grade}
        onChange={(e) => setGrade(parseInt(e.target.value))}
        placeholder="–û—Ü–µ–Ω–∫–∞ (1-10)"
      />
      
      <MarkdownEditor
        value={feedback}
        onChange={setFeedback}
        placeholder="–ù–∞–ø–∏—à–∏—Ç–µ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—É—é –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å..."
      />
      
      <Button onClick={() => reviewSubmission({ grade, feedback })}>
        –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É
      </Button>
    </div>
  )
}
```

## Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: [[Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è]]

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –ª–µ–∫—Ç–æ—Ä–∞
- üìö –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –∑–∞–Ω—è—Ç–∏—è—Ö (–∑–∞ 30 –º–∏–Ω—É—Ç)
- üìù –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö —Å–¥–∞–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç–∞—Ö
- üìä –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–∞—è —Å–≤–æ–¥–∫–∞ –ø–æ –ø—Ä–æ–≤–µ—Ä–∫–∞–º

### –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞
```
/schedule - –ú–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è
/tomorrow - –ú–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –∑–∞–≤—Ç—Ä–∞
/pending - –†–∞–±–æ—Ç—ã –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ
```

## –í–∏–∑—É–∞–ª—å–Ω–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ

### –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞
**–¶–≤–µ—Ç**: –§–∏–æ–ª–µ—Ç–æ–≤—ã–π (`purple-600`)  
**–°–∏–º–≤–æ–ª–∏–∫–∞**: –ó–Ω–∞–Ω–∏—è, –º—É–¥—Ä–æ—Å—Ç—å, –ø—Ä–µ–ø–æ–¥–∞–≤–∞–Ω–∏–µ

### –ò–∫–æ–Ω–∫–∞ —Ä–æ–ª–∏
**Icon**: `BookOpen` (Lucide React)  
**–ó–Ω–∞—á–µ–Ω–∏–µ**: –ü—Ä–µ–ø–æ–¥–∞–≤–∞–Ω–∏–µ, –∑–Ω–∞–Ω–∏—è

## –î–µ–º–æ –∞–∫–∫–∞—É–Ω—Ç

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–æ—Å—Ç—É–ø–µ–Ω –¥–µ–º–æ-–∞–∫–∫–∞—É–Ω—Ç –ª–µ–∫—Ç–æ—Ä–∞:

**Email**: `lector@demo.com`  
**–ü–∞—Ä–æ–ª—å**: `lector123`  
**–ü—Ä–µ–¥–º–µ—Ç—ã**: –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑, –ê–ª–≥–æ—Ä–∏—Ç–º—ã, Data Science

> ‚ö†Ô∏è **–í–Ω–∏–º–∞–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏!

## –°–≤—è–∑–∞–Ω–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏

### –î—Ä—É–≥–∏–µ —Ä–æ–ª–∏
- [[Admin]] - –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã
- [[Student]] - —Å—Ç—É–¥–µ–Ω—Ç—ã
- [[Mentor]] - –º–µ–Ω—Ç–æ—Ä—ã

### –ú–æ–¥–µ–ª–∏
- [[User]] - –º–æ–¥–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [[Subject]] - –ø—Ä–µ–¥–º–µ—Ç—ã –ª–µ–∫—Ç–æ—Ä–∞
- [[Homework]] - —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è
- [[HomeworkSubmission]] - —Ä–∞–±–æ—Ç—ã –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É
- [[HomeworkComment]] - inline –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- [[Schedule]] - —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–∞–Ω—è—Ç–∏–π

### –§—É–Ω–∫—Ü–∏–∏
- [[–°–∏—Å—Ç–µ–º–∞ –¥–æ–º–∞—à–Ω–∏—Ö –∑–∞–¥–∞–Ω–∏–π]] - —Å–æ–∑–¥–∞–Ω–∏–µ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –î–ó
- [[MDX —Ä–µ–¥–∞–∫—Ç–æ—Ä]] - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏–π –∏ feedback

### API
- [[Homework API]] - —Å–æ–∑–¥–∞–Ω–∏–µ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –î–ó
- [[Schedules API]] - —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- [[lector-nav.tsx]] - –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ª–µ–∫—Ç–æ—Ä–∞
- [[homework-form.tsx]] - —Ñ–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –î–ó
- [[markdown-editor.tsx]] - MDX —Ä–µ–¥–∞–∫—Ç–æ—Ä

### ADR
- [[ADR-005 MDX –¥–ª—è –¥–æ–º–∞—à–Ω–∏—Ö –∑–∞–¥–∞–Ω–∏–π]] - —Ñ–æ—Ä–º–∞—Ç –∑–∞–¥–∞–Ω–∏–π

## –§–∞–π–ª—ã

- **–ú–æ–¥–µ–ª—å**: `prisma/schema.prisma` (User —Å role="lector")
- **–°—Ç—Ä–∞–Ω–∏—Ü—ã**: `app/lector/**/*.tsx`
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**: `components/lector/**/*.tsx`
- **API**: –ò—Å–ø–æ–ª—å–∑—É—é—Ç –æ–±—â–∏–µ endpoints —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø—Ä–∞–≤

## –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [docs/features/USER_ROLES.md](../../docs/features/USER_ROLES.md#–ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å-lector)

---

#role #lector #homework #teacher

