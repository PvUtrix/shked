# JBTD: Студент (Student)

> Jobs To Be Done для роли студента системы SmartSchedule

## О роли

**Student** - базовая роль для студентов университета МФТИ. Студенты используют систему для просмотра расписания, сдачи домашних заданий и отслеживания своего прогресса.

**Основной файл**: [[Student]]

---

## Job Stories

### 1. Просмотр расписания на неделю

**Когда** мне нужно спланировать свою неделю и понять когда у меня занятия,  
**я хочу** увидеть своё расписание с учётом моих подгрупп,  
**чтобы** не пропустить пары и подготовиться к ним заранее

**Критерии приемки:**
- Вижу расписание только своей группы
- Расписание автоматически фильтруется по моим подгруппам
- Вижу время, аудиторию, тип занятия и преподавателя
- Могу переключаться между неделями
- Могу посмотреть расписание в календарном виде
- Расписание обновляется в реальном времени при изменениях

**Текущее решение:**
- Интерфейс: `/student` (главная), `/student/calendar`
- API: `GET /api/schedules?groupId={myGroupId}`
- Компонент: `app/student/page.tsx`, `app/student/calendar/page.tsx`
- Модель: [[Schedule]]
- Связь: [[Система подгрупп]]

---

### 2. Просмотр списка домашних заданий

**Когда** мне нужно понять какие задания нужно выполнить,  
**я хочу** увидеть список всех домашних заданий с дедлайнами и статусами,  
**чтобы** расставить приоритеты и спланировать время на выполнение

**Критерии приемки:**
- Вижу все задания своей группы
- Задания разделены на вкладки: Активные, Сданные, Проверенные
- Вижу название, предмет, дедлайн для каждого задания
- Вижу статус моей работы (не сдано, сдано, проверено)
- Вижу оценку для проверенных работ
- Могу фильтровать по предметам
- Срочные дедлайны выделены визуально

**Текущее решение:**
- Интерфейс: `/student/homework`
- API: `GET /api/homework?groupId={myGroupId}`
- Компонент: `app/student/homework/page.tsx`
- Модель: [[Homework]], [[HomeworkSubmission]]

---

### 3. Сдача домашнего задания

**Когда** я выполнил домашнее задание и хочу его сдать,  
**я хочу** написать решение в удобном редакторе с форматированием,  
**чтобы** преподаватель получил мою работу и смог её проверить

**Критерии приемки:**
- Вижу полное описание задания
- Могу использовать MDX редактор для оформления решения
- Могу добавлять заголовки, списки, код, таблицы, формулы
- Могу прикрепить ссылку на внешние материалы
- Могу сохранить черновик и вернуться позже
- Могу отредактировать работу до проверки
- Получаю подтверждение успешной отправки

**Текущее решение:**
- Интерфейс: `/student/homework/[id]`
- API: `POST /api/homework/[id]/submit`, `PUT /api/homework/[id]/submissions/[submissionId]`
- Компонент: `app/student/homework/[id]/page.tsx`, `components/student/homework-submission-form.tsx`
- UI: [[markdown-editor.tsx]]
- Модель: [[HomeworkSubmission]]
- Документация: [[MDX редактор]]

---

### 4. Просмотр обратной связи по проверенной работе

**Когда** преподаватель проверил мою работу,  
**я хочу** увидеть оценку, комментарии и подробную обратную связь,  
**чтобы** понять свои ошибки и улучшить результаты в будущем

**Критерии приемки:**
- Вижу оценку за работу
- Вижу развёрнутый feedback от преподавателя (MDX)
- Вижу inline комментарии к конкретным частям моей работы
- Могу сравнить свою работу с комментариями
- Получаю уведомление о проверке работы

**Текущее решение:**
- Интерфейс: `/student/homework/[id]` (после проверки)
- API: `GET /api/homework/[id]/submissions/[submissionId]`
- Модель: [[HomeworkSubmission]], [[HomeworkComment]]
- Связь: [[Lector]]

---

### 5. Привязка Telegram аккаунта для уведомлений

**Когда** я хочу получать напоминания о парах и дедлайнах в Telegram,  
**я хочу** привязать свой Telegram аккаунт к системе,  
**чтобы** не пропускать важные события и быть в курсе изменений

**Критерии приемки:**
- Могу получить уникальный токен привязки в профиле
- Отправляю токен боту командой `/link TOKEN`
- Получаю подтверждение успешной привязки
- Начинаю получать уведомления в Telegram
- Могу управлять типами уведомлений
- Могу отвязать аккаунт при необходимости

**Текущее решение:**
- Интерфейс: `/student/profile`
- API: `GET /api/telegram/link`, `POST /api/telegram/webhook`
- Бот: `lib/telegram/bot.ts`, `lib/telegram/commands.ts`
- Модель: [[TelegramUser]]
- Документация: [[Telegram интеграция]]

---

### 6. Получение напоминаний о ближайших занятиях

**Когда** приближается время пары,  
**я хочу** получить напоминание в Telegram,  
**чтобы** успеть подготовиться и не опоздать

**Критерии приемки:**
- Получаю уведомление за 30 минут до начала пары
- В уведомлении указано название предмета, время и аудитория
- Получаю дневную сводку расписания утром (7:00)
- Получаю напоминание о дедлайнах за 24 часа и 2 часа
- Могу отключить определённые типы уведомлений

**Текущее решение:**
- Telegram бот: `lib/telegram/notifications.ts`
- Cron задачи: `lib/cron/init.ts`
- Модель: [[TelegramUser]], [[Schedule]]
- Документация: [[Telegram интеграция]]

---

### 7. Отслеживание своего прогресса по предметам

**Когда** я хочу понять свою успеваемость,  
**я хочу** увидеть статистику по сданным работам и оценкам,  
**чтобы** оценить свой прогресс и понять над чем нужно поработать

**Критерии приемки:**
- Вижу общую статистику: сколько ДЗ сдано из общего числа
- Вижу среднюю оценку по всем предметам
- Вижу прогресс по каждому предмету отдельно
- Вижу количество предстоящих дедлайнов
- Вижу работы ожидающие проверки

**Текущее решение:**
- Интерфейс: `/student` (главная страница, виджет статистики)
- API: `GET /api/homework`, `GET /api/profile`
- Компонент: `app/student/page.tsx`
- Модель: [[HomeworkSubmission]], [[User]]

---

## Связанные документы

### Роли
- [[Student]] - основная документация роли
- [[Lector]] - преподаватели
- [[Mentor]] - менторы

### Модели данных
- [[User]] - пользователь-студент
- [[Group]] - учебная группа
- [[UserGroup]] - подгруппы студента
- [[Schedule]] - расписание
- [[Homework]] - домашние задания
- [[HomeworkSubmission]] - сданные работы
- [[HomeworkComment]] - комментарии к работам
- [[TelegramUser]] - привязка Telegram

### Функции
- [[Управление расписанием]] - просмотр расписания
- [[Система домашних заданий]] - работа с ДЗ
- [[Telegram интеграция]] - уведомления
- [[Система подгрупп]] - разделение на подгруппы

### API
- [[Schedules API]] - расписание
- [[Homework API]] - домашние задания
- [[Telegram API]] - уведомления

### Компоненты
- [[student-nav.tsx]] - навигация студента
- [[homework-submission-form.tsx]] - форма сдачи ДЗ
- [[markdown-editor.tsx]] - MDX редактор

---

#jbtd #student #jobs-to-be-done #user-stories

