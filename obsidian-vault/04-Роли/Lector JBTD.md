# JBTD: Преподаватель (Lector)

> Jobs To Be Done для роли преподавателя системы SmartSchedule

## О роли

**Lector** - преподаватель университета, ведущий предметы. Отвечает за создание домашних заданий, проверку работ студентов и предоставление обратной связи.

**Основной файл**: [[Lector]]

---

## Job Stories

### 1. Просмотр назначенных предметов и групп

**Когда** я захожу в систему в начале семестра,  
**я хочу** увидеть список предметов которые мне назначены и группы студентов,  
**чтобы** понять объём работы и начать планировать задания

**Критерии приемки:**
- Вижу все предметы к которым я назначен как лектор
- Для каждого предмета вижу группы которые его изучают
- Вижу количество студентов в каждой группе
- Вижу количество созданных заданий по предмету
- Вижу ближайшие занятия по моим предметам

**Текущее решение:**
- Интерфейс: `/lector` (главная страница)
- API: `GET /api/subjects?lectorId={myId}`
- Компонент: `app/lector/page.tsx`
- Модель: [[Subject]], [[Group]]

---

### 2. Создание домашнего задания для группы

**Когда** мне нужно дать студентам задание по пройденной теме,  
**я хочу** создать домашнее задание с подробным описанием и дедлайном,  
**чтобы** студенты знали что нужно сделать и к какому сроку

**Критерии приемки:**
- Выбираю предмет из своих назначенных предметов
- Выбираю группу для которой создаю задание
- Использую MDX редактор для описания задания
- Могу добавлять форматирование, код, формулы, таблицы
- Указываю дедлайн сдачи
- Могу прикрепить ссылки на материалы
- Задание сразу становится доступно студентам
- Студенты получают уведомление о новом задании

**Текущее решение:**
- Интерфейс: `/lector/homework/create`
- API: `POST /api/homework`
- Компонент: `app/lector/homework/create/page.tsx`, `components/lector/homework-form.tsx`
- UI: [[markdown-editor.tsx]]
- Модель: [[Homework]]
- Документация: [[MDX редактор]]

---

### 3. Просмотр сданных работ студентов

**Когда** приближается или прошёл дедлайн задания,  
**я хочу** увидеть список всех студентов и статус их работ,  
**чтобы** понять кто сдал, а кто ещё нет, и начать проверку

**Критерии приемки:**
- Вижу список всех заданий по моим предметам
- Для каждого задания вижу статистику: сколько сдали из общего числа
- Вижу список студентов с их статусами: не сдано, сдано, проверено
- Вижу дату сдачи для каждой работы
- Могу фильтровать по статусу (на проверке, проверенные)
- Могу сортировать по дате сдачи
- Вижу работы требующие проверки в первую очередь

**Текущее решение:**
- Интерфейс: `/lector/homework`, `/lector/homework/[id]`
- API: `GET /api/homework?lectorId={myId}`, `GET /api/homework/[id]/submissions`
- Компонент: `app/lector/homework/page.tsx`, `app/lector/homework/[id]/page.tsx`
- Модель: [[Homework]], [[HomeworkSubmission]]

---

### 4. Проверка работы студента с выставлением оценки

**Когда** студент сдал работу и она ожидает проверки,  
**я хочу** прочитать работу, оценить её и дать развёрнутую обратную связь,  
**чтобы** студент понял свои ошибки и получил рекомендации по улучшению

**Критерии приемки:**
- Вижу задание и работу студента рядом для сравнения
- Вижу MDX контент работы в отрендеренном виде
- Могу выставить числовую оценку (например, 1-10)
- Могу написать развёрнутый feedback используя MDX редактор
- Могу добавлять inline комментарии к конкретным частям работы
- После сохранения статус меняется на "Проверено"
- Студент получает уведомление о проверке работы
- Студент видит оценку и мой feedback

**Текущее решение:**
- Интерфейс: `/lector/homework/[id]/submissions/[submissionId]`
- API: `POST /api/homework/[id]/submissions/[submissionId]/review`
- Компонент: `app/lector/homework/[id]/submissions/[submissionId]/page.tsx`
- UI: [[markdown-editor.tsx]]
- Модель: [[HomeworkSubmission]], [[HomeworkComment]]

---

### 5. Добавление inline комментариев к работе

**Когда** я проверяю работу и хочу прокомментировать конкретное место,  
**я хочу** выделить фрагмент текста и добавить комментарий к нему,  
**чтобы** студент точно понял к какой части работы относится замечание

**Критерии приемки:**
- Выделяю текст в работе студента
- Появляется возможность добавить комментарий
- Пишу комментарий в всплывающем окне
- Комментарий сохраняется и привязывается к выделенному тексту
- Студент видит подсвеченные фрагменты с комментариями
- Можно добавить несколько комментариев к разным частям
- Комментарии видны только после публикации проверки

**Текущее решение:**
- Интерфейс: `/lector/homework/[id]/submissions/[submissionId]` (режим проверки)
- API: `POST /api/homework/[id]/submissions/[submissionId]/comments`
- Модель: [[HomeworkComment]]
- Связь: [[HomeworkSubmission]]

---

### 6. Редактирование и обновление домашнего задания

**Когда** я заметил ошибку в задании или хочу уточнить формулировку,  
**я хочу** отредактировать описание задания,  
**чтобы** студенты получили корректную информацию

**Критерии приемки:**
- Могу открыть созданное задание для редактирования
- Могу изменить описание, материалы, дедлайн
- Могу изменить только свои задания (по моим предметам)
- Изменения сразу видны студентам
- Студенты получают уведомление об изменении (если существенное)
- История изменений сохраняется

**Текущее решение:**
- Интерфейс: `/lector/homework/[id]/edit`
- API: `PUT /api/homework/[id]`
- Компонент: `app/lector/homework/[id]/edit/page.tsx`, `components/lector/homework-form.tsx`
- Модель: [[Homework]]

---

### 7. Мониторинг успеваемости по предмету

**Когда** мне нужно оценить как идёт освоение предмета,  
**я хочу** увидеть статистику по выполнению заданий и оценкам,  
**чтобы** понять общий уровень группы и скорректировать подход к обучению

**Критерии приемки:**
- Вижу статистику по каждому предмету
- Вижу процент сдачи заданий
- Вижу среднюю оценку по каждому заданию
- Вижу распределение оценок (сколько студентов получили каждую оценку)
- Вижу список студентов не сдавших задания
- Могу экспортировать статистику

**Текущее решение:**
- Интерфейс: `/lector` (главная страница, виджеты статистики)
- API: `GET /api/homework?lectorId={myId}` (с агрегацией данных)
- Компонент: `app/lector/page.tsx`
- Модель: [[Homework]], [[HomeworkSubmission]]

---

## Связанные документы

### Роли
- [[Lector]] - основная документация роли
- [[Admin]] - администраторы
- [[Student]] - студенты
- [[Mentor]] - менторы

### Модели данных
- [[User]] - пользователь-преподаватель
- [[Subject]] - назначенные предметы
- [[Homework]] - созданные задания
- [[HomeworkSubmission]] - работы на проверку
- [[HomeworkComment]] - комментарии к работам
- [[Schedule]] - расписание занятий

### Функции
- [[Система домашних заданий]] - создание и проверка ДЗ
- [[MDX редактор]] - форматирование заданий и feedback
- [[Telegram интеграция]] - уведомления

### API
- [[Homework API]] - создание и проверка ДЗ
- [[Schedules API]] - расписание
- [[Subjects API]] - предметы

### Компоненты
- [[lector-nav.tsx]] - навигация преподавателя
- [[homework-form.tsx]] - форма создания ДЗ
- [[markdown-editor.tsx]] - MDX редактор

### ADR
- [[ADR-005 MDX для домашних заданий]] - формат заданий и feedback

---

#jbtd #lector #teacher #jobs-to-be-done #user-stories

