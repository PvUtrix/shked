# JBTD: Ментор (Mentor)

> Jobs To Be Done для роли ментора системы SmartSchedule

## О роли

**Mentor** - ментор группы студентов, который помогает им в учебном процессе, следит за прогрессом и оказывает поддержку. Ментор не проверяет работы, но мониторит выполнение заданий.

**Основной файл**: [[Mentor]]

---

## Job Stories

### 1. Просмотр списка студентов своих групп

**Когда** мне нужно узнать кто находится под моей опекой,  
**я хочу** увидеть полный список студентов назначенных мне групп,  
**чтобы** знать с кем я работаю и как с ними связаться

**Критерии приемки:**
- Вижу все группы к которым я назначен как ментор
- Вижу список всех студентов в этих группах
- Вижу контактную информацию студентов (email, Telegram если привязан)
- Вижу подгруппы каждого студента
- Могу фильтровать студентов по группам
- Могу искать студентов по имени

**Текущее решение:**
- Интерфейс: `/mentor/students`
- API: `GET /api/groups?mentorId={myId}`, `GET /api/groups/[id]/students`
- Компонент: `app/mentor/students/page.tsx`
- Модель: [[User]], [[Group]], [[UserGroup]]

---

### 2. Мониторинг выполнения домашних заданий группой

**Когда** выходит новое задание или приближается дедлайн,  
**я хочу** увидеть кто из моих студентов сдал работу, а кто ещё нет,  
**чтобы** напомнить отстающим и помочь им в выполнении

**Критерии приемки:**
- Вижу все активные домашние задания для моих групп
- Для каждого задания вижу статистику: сдано X из Y студентов
- Вижу список студентов со статусами: не сдано, сдано, проверено
- Вижу оставшееся время до дедлайна
- Могу увидеть кто не сдал работу после дедлайна
- Могу отфильтровать "проблемных" студентов
- Вижу количество просроченных заданий у каждого студента

**Текущее решение:**
- Интерфейс: `/mentor/homework`
- API: `GET /api/homework?groupId={myGroupId}`
- Компонент: `app/mentor/homework/page.tsx`
- Модель: [[Homework]], [[HomeworkSubmission]]

---

### 3. Просмотр работы студента (без возможности проверки)

**Когда** студент просит помощи с заданием или я хочу понять почему работа не сдана,  
**я хочу** посмотреть содержание задания и работу студента если она сдана,  
**чтобы** дать ему совет или направить к преподавателю

**Критерии приемки:**
- Могу открыть любое задание для моих групп
- Вижу полное описание задания (MDX)
- Могу посмотреть работу студента если она сдана
- Вижу статус работы: сдано, на проверке, проверено
- Если работа проверена, вижу оценку и feedback от лектора
- Вижу inline комментарии преподавателя
- НЕ могу редактировать или оценивать работу (только просмотр)

**Текущее решение:**
- Интерфейс: `/mentor/homework/[id]`, `/mentor/homework/[id]/submissions/[submissionId]`
- API: `GET /api/homework/[id]/submissions/[submissionId]` (read-only)
- Компонент: `app/mentor/homework/[id]/submissions/[submissionId]/page.tsx`
- Модель: [[HomeworkSubmission]], [[HomeworkComment]]

---

### 4. Выявление студентов требующих внимания

**Когда** проходит несколько недель семестра,  
**я хочу** увидеть каких студентов нужно поддержать в первую очередь,  
**чтобы** помочь им не отстать от программы и улучшить результаты

**Критерии приемки:**
- Вижу студентов с просроченными заданиями
- Вижу студентов с низкой средней оценкой
- Вижу студентов которые долго не заходили в систему
- Вижу студентов пропустивших много заданий
- Могу отсортировать по "уровню проблемы"
- Вижу рекомендации что обсудить со студентом
- Вижу динамику (улучшается/ухудшается)

**Текущее решение:**
- Интерфейс: `/mentor` (главная страница, виджет "Требуют внимания")
- API: `GET /api/groups/[id]/students` (с расчётом метрик)
- Компонент: `app/mentor/page.tsx`
- Модель: [[User]], [[HomeworkSubmission]]

---

### 5. Просмотр расписания своих групп

**Когда** мне нужно знать когда у моих студентов занятия,  
**я хочу** посмотреть расписание всех моих групп,  
**чтобы** понимать их загруженность и выбрать время для встречи

**Критерии приемки:**
- Вижу расписание всех групп которые менторю
- Могу переключаться между группами
- Вижу время, предмет, аудиторию, преподавателя
- Могу посмотреть расписание на неделю или месяц
- Вижу календарный вид расписания
- Могу экспортировать расписание

**Текущее решение:**
- Интерфейс: `/mentor/schedule`
- API: `GET /api/schedules?groupId={myGroupIds}`
- Компонент: `app/mentor/schedule/page.tsx`
- Модель: [[Schedule]]

---

### 6. Просмотр общей статистики по группе

**Когда** мне нужно оценить как в целом идут дела у группы,  
**я хочу** увидеть агрегированную статистику по успеваемости,  
**чтобы** понять сильные и слабые стороны группы и сообщить о проблемах

**Критерии приемки:**
- Вижу среднюю оценку по группе
- Вижу процент выполнения домашних заданий
- Вижу распределение студентов по уровню успеваемости
- Вижу предметы где больше всего проблем
- Вижу динамику изменения показателей
- Могу сравнить свои группы между собой
- Могу выгрузить отчёт для администрации

**Текущее решение:**
- Интерфейс: `/mentor` (главная страница, виджеты статистики)
- API: `GET /api/groups?mentorId={myId}` (с агрегацией)
- Компонент: `app/mentor/page.tsx`
- Модель: [[Group]], [[HomeworkSubmission]], [[User]]

---

### 7. Получение уведомлений о проблемах студентов

**Когда** у студента возникают проблемы (просрочены дедлайны, низкая успеваемость),  
**я хочу** получить уведомление в Telegram,  
**чтобы** своевременно связаться со студентом и предложить помощь

**Критерии приемки:**
- Получаю уведомление когда студент пропустил дедлайн
- Получаю еженедельную сводку по группе
- Получаю уведомление если студент не заходил в систему долгое время
- Могу настроить какие уведомления получать
- Уведомления содержат имя студента и суть проблемы
- Есть ссылка на профиль студента или проблемное задание

**Текущее решение:**
- Telegram бот: `lib/telegram/notifications.ts`
- Cron задачи: `lib/cron/init.ts`
- Модель: [[TelegramUser]], [[HomeworkSubmission]]
- Документация: [[Telegram интеграция]]

---

## Связанные документы

### Роли
- [[Mentor]] - основная документация роли
- [[Student]] - студенты под опекой
- [[Teacher]] - преподаватели
- [[Admin]] - администраторы

### Модели данных
- [[User]] - пользователь-ментор и студенты
- [[Group]] - назначенные группы
- [[Homework]] - задания групп
- [[HomeworkSubmission]] - работы студентов (read-only)
- [[HomeworkComment]] - комментарии лектора (read-only)
- [[Schedule]] - расписание групп
- [[TelegramUser]] - Telegram уведомления

### Функции
- [[Система домашних заданий]] - мониторинг выполнения ДЗ
- [[Telegram интеграция]] - уведомления о проблемах

### API
- [[Groups API]] - группы ментора
- [[Homework API]] - просмотр заданий и работ (read-only)
- [[Schedules API]] - расписание групп

### Компоненты
- [[mentor-nav.tsx]] - навигация ментора

### Отличие от Teacher
Ключевое отличие ментора от преподавателя:
- **Ментор**: мониторит, поддерживает, НЕ проверяет и НЕ создаёт задания
- **Teacher**: создаёт задания, проверяет, оценивает работы студентов

---

#jbtd #mentor #support #jobs-to-be-done #user-stories

